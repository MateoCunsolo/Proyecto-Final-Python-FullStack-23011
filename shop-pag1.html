<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!--links de estilos -->
    <link rel="stylesheet" href="style-shop.css">
    <link rel="stylesheet" type="text/css"
        href="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.9.0/slick.min.css">
    <link rel="stylesheet" type="text/css"
        href="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.9.0/slick-theme.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">

    <!-- Link icon -->
    <link rel="icon" href="icono.ico">

    <!-- Scripts -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.9.0/slick.min.js"></script>

    <title>Tienda de productos</title>
</head>

<body>

    <header class="contenedor-header">

        <div class="titulo">
            <input id="buscar" class="buscar" placeholder="  Buscar... (minimo 3 letras)">
            <button class="close-button" id="borrar-busquedad">
                <i class="fas fa-times"></i>
            </button>
        </div>

        <div class="redes">
            <a href="https://twitter.com/home?lang=es">
                <img src="Icons Redes Sociales/twitter.png" alt="Twiter">
            </a>

            <a href="https://www.facebook.com/">
                <img src="Icons Redes Sociales/facebook.png" alt="Facebook">
            </a>

            <a href="https://www.whatsapp.com/">
                <img src="Icons Redes Sociales/whatsapp.png" alt="Whatsapp">
            </a>

            <a href="https://www.instagram.com/">
                <img src="Icons Redes Sociales/instagram.png" alt="Instagram">
            </a>
        </div>

        <div class="salir">
            <a href="index.html" id="arrow">&#8592; Volver al inicio</a>
        </div>

        <div class="menu">
            <p id="contadorCarrito">0</p>
            <button id="carritoEnCelu"><img src="carrito.png" alt=""></button>
        </div>

    </header>

    <section class="container-nav-productos" class="pag1">

        <div class="nav">

            <div class="filtros">
                <h3>Filtros</h3>
                <ul>
                    <h5>Por tipo</h5>
                    <li id="alimentos">Alimentos</li>
                    <li id="juguetes">Juguetes</li>
                    <li id="varios">Varios</li>
                    <li id="estetica">Estetica</li>
                </ul>

                <button class="close-button" id="borrar-filtros">
                    Borrar filtros
                    <i class="fas fa-times"></i>
                </button>
            </div>

            <div id="seccion-carrito">
                <div class="cabecera-carrito">
                    <img src="carrito.png" alt="">

                    <button id="boton-comprar">
                        Comprar
                    </button>

                    <button id="boton-eliminar">
                        Eliminar
                    </button>
                </div>
            </div>

        </div>

        <div class="container-prductos-footer">

            <div class="productos">
            </div>

            <div class="chat-bot">
                <!-- Código de instalación Cliengo para www.mispatitas.com.ar -->
                <script
                    type="text/javascript">(function () { var ldk = document.createElement('script'); ldk.type = 'text/javascript'; ldk.async = true; ldk.src = 'https://s.cliengo.com/weboptimizer/64600e12ebee200032cea37a/6466080dc7514700325157d9.js?platform=onboarding_modular'; var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ldk, s); })();</script>

            </div>

            <footer class="pie">
                <button id="anterior">
                    < Anterior</button>
                        <h4 id="numero-pagina">1 de 3</h4>
                        <button id="siguiente">Siguiente ></button>
            </footer>

        </div>

        <section>
            <script>
                window.addEventListener('DOMContentLoaded', (event) => {
                    const apiURL = "https://mateocunsolo.pythonanywhere.com/productos";
            
                    // Realizar solicitud a la API
                    fetch(apiURL)
                        .then(response => response.json())
                        .then(data => {
                            // Manipular los datos obtenidos de la API
                            const productosContainer = document.querySelector(".productos");
            
                            data.forEach((producto) => {
                                // Crear un nuevo elemento <div> con la clase "producto"
                                const productoElement = document.createElement("div");
                                productoElement.classList.add("producto");
            
                                // Crear elementos internos para mostrar los valores del producto
                                const imagenElement = document.createElement("img");
                                imagenElement.src = producto.imagen;
            
                                const nombreElement = document.createElement("h3");
                                nombreElement.textContent = producto.descripcion;
            
                                const cantidadElement = document.createElement("h5");
                                let mensaje = "";
                                if (producto.cantidad > 1) {
                                    mensaje = "Stock disponible";
                                } else if (producto.cantidad === 1) {
                                    mensaje = "Último disponible!";
                                } else {
                                    mensaje = "No disponible";
                                }
                                cantidadElement.textContent = mensaje;
            
                                const precioElement = document.createElement("p");
                                precioElement.textContent = producto.precio;
            
                                const carritoButton = document.createElement("button");
                                carritoButton.classList.add("carrito");
                                carritoButton.textContent = "Agregar al carrito";
            
                                // Agregar elementos internos al elemento producto
                                productoElement.appendChild(imagenElement);
                                productoElement.appendChild(nombreElement);
                                productoElement.appendChild(precioElement);
                                productoElement.appendChild(cantidadElement);
                                productoElement.appendChild(carritoButton);
            
                                // Agregar el elemento producto al contenedor de productos
                                if (mensaje !== "No disponible") {
                                    productosContainer.appendChild(productoElement);
                                }
                            });
                        })
                        .catch(error => {
                            console.error('Error:', error);
                        });
                });
            </script>
            
           <script src="main.js"></script>
</body>

</html>